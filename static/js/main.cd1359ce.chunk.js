(this["webpackJsonplead-allocation"]=this["webpackJsonplead-allocation"]||[]).push([[0],{35:function(e,t,r){},38:function(e,t){},40:function(e,t){},55:function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n),a=r(24),l=r.n(a),i=(r(35),r(1)),s=r(3),c=r(25),d=r(26),u=r(30),m=r(29),p=r(8),v=r(0),b=function(e){Object(u.a)(r,e);var t=Object(m.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).handleOpenDialog=function(e){n.state.buttonRef.current&&n.state.buttonRef.current.open(e)},n.handleOnFileLoad=function(e){return n.props.onFileLoad(e)},n.handleOnError=function(e,t,r,n){console.log(e)},n.handleOnRemoveFile=function(e){return n.props.onFileRemove()},n.handleRemoveFile=function(e){n.state.buttonRef.current&&n.state.buttonRef.current.removeFile(e)},n.state={buttonRef:o.a.createRef()},n}return Object(d.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsx)(p.b,{ref:this.state.buttonRef?this.state.buttonRef:null,onFileLoad:this.handleOnFileLoad,onError:this.handleOnError,noClick:!0,noDrag:!0,config:{header:!0,dynamicTyping:!0,skipEmptyLines:!0},onRemoveFile:this.handleOnRemoveFile,children:function(t){var r=t.file;return Object(v.jsxs)("aside",{style:{display:"flex",flexDirection:"row",marginBottom:10},children:[Object(v.jsx)("button",{type:"button",onClick:e.handleOpenDialog,disabled:e.props.disabled,style:{borderRadius:0,marginLeft:0,marginRight:0,width:"40%",paddingLeft:0,paddingRight:0},children:"Browse file"}),Object(v.jsx)("div",{style:{borderWidth:1,borderStyle:"solid",borderColor:"#ccc",height:45,lineHeight:2.5,marginTop:5,marginBottom:5,paddingLeft:13,paddingTop:3,width:"60%"},children:r&&r.name}),Object(v.jsx)("button",{style:{borderRadius:0,marginLeft:0,marginRight:0,paddingLeft:20,paddingRight:20},onClick:e.handleRemoveFile,children:"Remove"})]})}})}}]),r}(n.Component),h={RoundRobin:{id:0,name:"Round Robin",description:"Allocates leads one by one to each available CA",allocationFunction:function(e,t){for(var r=e.slice(),n=t.map((function(e){var t=Object(i.a)({},e);return t.lastAllocatedId=-1,t})),o=n.filter((function(e){return e.portfolio===y})),a=n.filter((function(e){return e.portfolio===f})),l=function(e){var t=r[e],l=void 0;t.portfolio===y?l=o.sort((function(e,t){return e.lastAllocatedId-t.lastAllocatedId})):t.portfolio===f&&(l=a.sort((function(e,t){return e.lastAllocatedId-t.lastAllocatedId})));var i=l.filter((function(e){return C(t.created,e.location)})),s=i.length>0?i[0]:l[0];s.lastAllocatedId=t.leadId,j(t,s,n)},s=0;s<e.length;s++)l(s);return{leads:r,courseAdvisors:n}}},RoundRobinUnconstrained:{id:1,name:"Round Robin (Unconstrained)",description:"Allocates leads one by one to each CA, irrespective of portfolio or working hours",allocationFunction:function(e,t){for(var r=e.slice(),n=t.map((function(e){var t=Object(i.a)({},e);return t.lastAllocatedId=-1,t})),o=0;o<e.length;o++){var a=r[o],l=n.slice().sort((function(e,t){return e.lastAllocatedId-t.lastAllocatedId}))[0];l.lastAllocatedId=a.leadId,j(a,l,n)}return{leads:r,courseAdvisors:n}}},MostSuitableUnconstrained:{id:2,name:"Most Suitable (Unconstrained)",description:"Allocates leads always to the CA with the highest likelihood of conversion. Ignores portfolio and working hours constraints",allocationFunction:function(e,t){for(var r=e.slice(),n=t.slice(),o=0;o<e.length;o++){for(var a=r[o],l=n.slice(),s=0;s<l.length;s++){var c=l[s];l[s]=Object(i.a)(Object(i.a)({},c),{},{propensity:a.courseAdvisors[c.id].propensity})}l.sort((function(e,t){return t.propensity-e.propensity}));var d=l[0];j(a,d,n)}return{leads:r,courseAdvisors:n}}},MostSuitableAggressive:{id:3,name:"Most Suitable (Aggressive)",description:"Allocates leads always to the CA with the highest likelihood of conversion. Uses lowest current allotment as a tiebreaker",allocationFunction:function(e,t){for(var r=e.slice(),n=t.slice(),o=function(e){for(var t=r[e],o=n.filter((function(e){return I(e,t)})),a=0;a<o.length;a++){var l=o[a],s=C(t.created,n[l.id].location);o[a]=Object(i.a)(Object(i.a)({},l),{},{propensity:t.courseAdvisors[l.id].propensity,isInWorkingHours:s})}o.sort((function(e,t){return t.isInWorkingHours&&!e.isInWorkingHours?1:e.isInWorkingHours&&!t.isInWorkingHours?-1:t.propensity!==e.propensity?t.propensity-e.propensity:e.totalAllotment-t.totalAllotment}));var c=o[0];j(t,c,n)},a=0;a<e.length;a++)o(a);return{leads:r,courseAdvisors:n}}},MostSuitableFixedAllotmentTolerance:{id:4,name:"Most Suitable (Fixed allotment tolerance)",description:"Allocates leads to the CA with the highest likelihood of conversion, so long as their allotment is not a given number of leads more than any other CA currently available. If all available CAs are outside of this tolerance, picks the one with the fewest leads currently allotted",parameters:{allotmentTolerance:{order:0,label:"Allotment Tolerance"},decayPerDay:{order:1,label:"Lead decay per day"},cycleDecayDurationDays:{order:2,label:"Days per sales cycle"},decayPerCycle:{order:3,label:"Lead decay per sales cycle (%)"}},allocationFunction:function(e,t,r){return A(e,t,r,!1)}},MostSuitableAdvisorAllotmentTolerance:{id:5,name:"Most Suitable (Per-CA allotment tolerance)",description:"Allocates leads to the CA with the highest likelihood of conversion, so long as their allotment is not a given number of leads more than any other CA currently available. If all available CAs are outside of this tolerance, picks the one with the fewest leads currently allotted",parameters:{decayPerDay:{order:0,label:"Lead decay per day"},cycleDecayDurationDays:{order:1,label:"Days per sales cycle"},decayPerCycle:{order:2,label:"Lead decay per sales cycle (%)"}},allocationFunction:function(e,t,r,n){for(var o=e.slice(),a=t.slice(),l=Number(r[h.MostSuitableAdvisorAllotmentTolerance.parameters.decayPerDay.order]),s=Number(r[h.MostSuitableAdvisorAllotmentTolerance.parameters.cycleDecayDurationDays.order]),c=Number(r[h.MostSuitableAdvisorAllotmentTolerance.parameters.decayPerCycle.order])/100,d=e[0].created.clone().startOf("date"),u=d.clone(),m=d.clone(),p=function(t){var r=o[t],n=Number.MAX_SAFE_INTEGER,d=e[t].created.clone().startOf("date");u=O(a,d,m,u,s,c,l);for(var p=a.filter((function(e){return I(e,r)})),v=0;v<p.length;v++){var b=p[v];n=Math.min(b.currentAllotment,n);var h=C(r.created,a[b.id].location);p[v]=Object(i.a)(Object(i.a)({},b),{},{propensity:r.courseAdvisors[b.id].propensity,isInWorkingHours:h})}p.sort((function(e,t){if(t.isInWorkingHours&&!e.isInWorkingHours)return 1;if(e.isInWorkingHours&&!t.isInWorkingHours)return-1;var r=n+e.allotmentLimit,o=n+t.allotmentLimit,a=r-e.currentAllotment,l=o-t.currentAllotment;return t.currentAllotment<o&&e.currentAllotment>=r?1:e.currentAllotment<r&&t.currentAllotment>=o?-1:e.currentAllotment>=r&&t.currentAllotment>=o&&l!==a?l-a:t.propensity!==e.propensity?t.propensity-e.propensity:e.currentAllotment-t.currentAllotment}));var y=p[0];j(r,y,a)},v=0;v<e.length;v++)p(v);return{leads:o,courseAdvisors:a}}},MostSuitableProportionalAllotmentTolerance:{id:6,name:"Most Suitable (Proportional allotment tolerance)",description:"Allocates leads to the CA with the highest likelihood of conversion, so long as their allotment is not a number of leads more than any other CA currently available by a given percentage. If all available CAs are outside of this tolerance, picks the one with the fewest leads currently allotted",parameters:{allotmentTolerance:{order:0,label:"Allotment Tolerance (%)"},decayPerDay:{order:1,label:"Lead decay per day"},cycleDecayDurationDays:{order:2,label:"Days per sales cycle"},decayPerCycle:{order:3,label:"Lead decay per sales cycle (%)"}},allocationFunction:function(e,t,r){return A(e,t,r,!0)}},SuitabilityAllotmentBalancedLinear:{id:7,name:"Suitability vs. Allotment Balance (Linear)",description:"Allocates leads to the CA based on both their suitability and their current allotment. Higher suitability will increase the preference given to the CA but a higher allotment will decrease it. Weightings are used to control the relative importance of choosing most suitable vs. balancing allotment",parameters:{suitabilityWeighting:{order:0,label:"Suitability weighting"},allotmentWeighting:{order:1,label:"Allotment weighting"},decayPerDay:{order:2,label:"Lead decay per day"},cycleDecayDurationDays:{order:3,label:"Days per sales cycle"},decayPerCycle:{order:4,label:"Lead decay per sales cycle (%)"}},allocationFunction:function(e,t,r){for(var n=e.slice(),o=t.slice(),a=Number(r[h.SuitabilityAllotmentBalancedLinear.parameters.suitabilityWeighting.order]),l=Number(r[h.SuitabilityAllotmentBalancedLinear.parameters.allotmentWeighting.order]),s=Number(r[h.SuitabilityAllotmentBalancedLinear.parameters.decayPerDay.order]),c=Number(r[h.SuitabilityAllotmentBalancedLinear.parameters.cycleDecayDurationDays.order]),d=Number(r[h.SuitabilityAllotmentBalancedLinear.parameters.decayPerCycle.order])/100,u=e[0].created.clone().startOf("date"),m=u.clone(),p=u.clone(),v=function(t){var r=n[t],u=0,v=0,b=e[t].created.clone().startOf("date");m=O(o,b,p,m,c,d,s);for(var h=o.filter((function(e){return I(e,r)})),y=0;y<h.length;y++){var f=h[y];u+=f.currentAllotment,v++;var g=C(r.created,o[f.id].location),A=r.courseAdvisors[f.id].propensity*a;h[y]=Object(i.a)(Object(i.a)({},f),{},{suitabilityScore:A,isInWorkingHours:g})}var P=void 0;P=v>0?u/v:u/h.length,h.sort((function(e,t){if(t.isInWorkingHours&&!e.isInWorkingHours)return 1;if(e.isInWorkingHours&&!t.isInWorkingHours)return-1;var r=e.suitabilityScore+(P-e.currentAllotment)*l,n=t.suitabilityScore+(P-t.currentAllotment)*l;return n!==r?n-r:e.currentAllotment-t.currentAllotment}));var H=h[0];j(r,H,o)},b=0;b<e.length;b++)v(b);return{leads:n,courseAdvisors:o}}},SuitabilityAllotmentBalancedProportional:{id:8,name:"Suitability vs. Allotment Balance (Proportional)",description:"Allocates leads to the CA based on both their suitability and their current allotment. Higher suitability proportionally relative to the average will increase the preference given to the CA but a higher allotment will decrease it. Weightings are used to control the relative importance of choosing most suitable vs. balancing allotment",parameters:{suitabilityWeighting:{order:0,label:"Suitability weighting"},allotmentWeighting:{order:1,label:"Allotment weighting"},decayPerDay:{order:2,label:"Lead decay per day"},cycleDecayDurationDays:{order:3,label:"Days per sales cycle"},decayPerCycle:{order:4,label:"Lead decay per sales cycle (%)"}},allocationFunction:function(e,t,r){for(var n=e.slice(),o=t.slice(),a=Number(r[h.SuitabilityAllotmentBalancedProportional.parameters.suitabilityWeighting.order]),l=Number(r[h.SuitabilityAllotmentBalancedProportional.parameters.allotmentWeighting.order]),s=Number(r[h.SuitabilityAllotmentBalancedProportional.parameters.decayPerDay.order]),c=Number(r[h.SuitabilityAllotmentBalancedProportional.parameters.cycleDecayDurationDays.order]),d=Number(r[h.SuitabilityAllotmentBalancedProportional.parameters.decayPerCycle.order])/100,u=e[0].created.clone().startOf("date"),m=u.clone(),p=u.clone(),v=function(t){var r=n[t],u=0,v=0,b=0,h=e[t].created.clone().startOf("date");m=O(o,h,p,m,c,d,s);for(var y=o.filter((function(e){return I(e,r)})),f=0;f<y.length;f++){var g=y[f];u+=g.currentAllotment,v+=r.courseAdvisors[g.id].propensity,b++;var A=C(r.created,o[g.id].location);y[f]=Object(i.a)(Object(i.a)({},g),{},{propensity:r.courseAdvisors[g.id].propensity,isInWorkingHours:A})}var H=void 0,S=void 0;b>0?(H=u/b,S=v/b):(H=u/y.length,S=v/y.length),y.sort((function(e,t){if(t.isInWorkingHours&&!e.isInWorkingHours)return 1;if(e.isInWorkingHours&&!t.isInWorkingHours)return-1;var r=P(e,S,H,a,l),n=P(t,S,H,a,l);return n!==r?n-r:e.currentAllotment-t.currentAllotment}));var x=y[0];j(r,x,o)},b=0;b<e.length;b++)v(b);return{leads:n,courseAdvisors:o}}}},y="Domestic",f="Canada",g={Adelaide:{startHour:9,endHour:17,timezoneOffsetFromAdelaide:0},Canada:{startHour:22.5,endHour:6.5,timezoneOffsetFromAdelaide:13.5}};function A(e,t,r,n){var o=e.slice(),a=t.slice(),l=Number(r[h.MostSuitableFixedAllotmentTolerance.parameters.allotmentTolerance.order]);n&&(l/=100);for(var s=Number(r[h.MostSuitableFixedAllotmentTolerance.parameters.decayPerDay.order]),c=Number(r[h.MostSuitableFixedAllotmentTolerance.parameters.cycleDecayDurationDays.order]),d=Number(r[h.MostSuitableFixedAllotmentTolerance.parameters.decayPerCycle.order])/100,u=e[0].created.clone().startOf("date"),m=u.clone(),p=u.clone(),v=function(t){var r=o[t],u=Number.MAX_SAFE_INTEGER,v=e[t].created.clone().startOf("date");m=O(a,v,p,m,c,d,s);for(var b=a.filter((function(e){return I(e,r)})),h=0;h<b.length;h++){var y=b[h];u=Math.min(y.currentAllotment,u);var f=C(r.created,a[y.id].location);b[h]=Object(i.a)(Object(i.a)({},y),{},{propensity:r.courseAdvisors[y.id].propensity,isInWorkingHours:f})}var g=void 0;g=n?u+u*l:u+l,b.sort((function(e,t){return t.isInWorkingHours&&!e.isInWorkingHours?1:e.isInWorkingHours&&!t.isInWorkingHours?-1:t.currentAllotment<g&&e.currentAllotment>=g?1:e.currentAllotment<g&&t.currentAllotment>=g?-1:e.currentAllotment>=g&&t.currentAllotment>=g&&t.currentAllotment!==e.currentAllotment?e.currentAllotment-t.currentAllotment:t.propensity!==e.propensity?t.propensity-e.propensity:e.currentAllotment-t.currentAllotment}));var A=b[0];j(r,A,a)},b=0;b<e.length;b++)v(b);return{leads:o,courseAdvisors:a}}function j(e,t,r){e.allocatedCa=t.id,e.allotmentAtAllocation=t.currentAllotment+1,e.assessedPropensity=e.courseAdvisors[t.id].assessedPropensity,e.allocatedPropensity=e.courseAdvisors[t.id].propensity,r[t.id].totalAllotment++,r[t.id].currentAllotment++}function O(e,t,r,n,o,a,l){var i=t.diff(r,"days");if(o>0&&i>=o){for(var s=Math.floor(i/o),c=Math.pow(a,s),d=0;d<e.length;d++){var u=e[d];u.currentAllotment=u.currentAllotment*(1-c)}r.add(o*i,"days")}var m=t.diff(n,"days");if(m>0){for(var p=0;p<e.length;p++){var v=e[p],b=m*l*v.decayModifier;v.currentAllotment=Math.max(v.currentAllotment-b,0)}n=t.clone()}return n}function P(e,t,r,n,o){return(t>0?(e.propensity-t)/t*n:0)+(r-e.currentAllotment)*o}function I(e,t){return e.portfolio===t.portfolio}function C(e,t){var r=g[t],n=e.hour()+e.minute()/60,o=e.clone().subtract(r.timezoneOffsetFromAdelaide,"hours").day();if(0===o||6===o)return!1;var a=r.endHour,l=n;return r.endHour<=r.startHour&&(a=r.endHour+24,n<r.startHour&&(l+=24)),l>=r.startHour&&l<=a}var H=function(e){var t=[Object(v.jsx)("option",{value:null,hidden:!0},"unselected")];t=t.concat(Object.keys(h).map((function(e){return Object(v.jsx)("option",{value:e,children:h[e].name},h[e].name)})));var r=[];if(e.selectedMode&&e.selectedMode.parameters)for(var n=Object.keys(e.selectedMode.parameters),o=function(t){var o=e.selectedMode.parameters[n[t]];r[t]=Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:n[t],children:o.label}),Object(v.jsx)("input",{name:n[t],type:"number",step:"any",onChange:function(t){return e.onParameterChange(t,o.order)}})]},n[t])},a=0;a<n.length;a++)o(a);return Object(v.jsxs)("div",{children:[Object(v.jsx)("select",{onChange:function(t){return e.onModeChange(t.target.value)},children:t}),Object(v.jsx)("div",{children:e.selectedMode?e.selectedMode.description:""}),r]})},S=r(17),x=r.n(S),D=r(28);function L(e){var t=e.columns,r=e.data,n=Object(D.useTable)({columns:t,data:r}),o=n.getTableProps,a=n.getTableBodyProps,l=n.headerGroups,s=n.rows,c=n.prepareRow;return Object(v.jsxs)("table",Object(i.a)(Object(i.a)({},o()),{},{children:[Object(v.jsx)("thead",{children:l.map((function(e){return Object(v.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(v.jsx)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(v.jsx)("tbody",Object(i.a)(Object(i.a)({},a()),{},{children:s.map((function(e,t){return c(e),Object(v.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(v.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var R={style:"percent",maximumFractionDigits:2};var k=function(e){var t=o.a.useMemo((function(){return[{Header:"CA",accessor:"caName"},{Header:"Portfolio",accessor:"portfolio"},{Header:"Location",accessor:"location"},{Header:"Total Allotment",accessor:"totalAllotment"},{Header:"Final Allotment",accessor:"currentAllotment"},{Header:"Average Propensity",accessor:function(e){return e?e.averagePropensity.toLocaleString(void 0,R):0}},{Header:"Variance to Inherent",accessor:function(e){return e?e.varianceToInherent.toLocaleString(void 0,R):0}},{Header:"Predicted Conversions",accessor:function(e){return e?e.predictedConversions.toFixed(2):0}}]}),[]),r=o.a.useMemo((function(){return[{Header:"Total Leads",accessor:"totalLeads"},{Header:"Average Propensity",accessor:function(e){return e?e.averagePropensity.toLocaleString(void 0,R):0}},{Header:"Average Variance to Inherent",accessor:function(e){return e?e.averageVarianceToInherent.toLocaleString(void 0,R):0}},{Header:"Predicted Conversions",accessor:function(e){return e?e.predictedConversions.toFixed(2):0}}]}),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Aggregated Results"}),Object(v.jsx)(L,{columns:r,data:e.aggregatedResults?[e.aggregatedResults]:[]}),Object(v.jsx)("h3",{children:"Individual CA Results"}),Object(v.jsx)(L,{columns:t,data:e.courseAdvisors?e.courseAdvisors:[]})]})};var F=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),r=t[0],o=t[1],a=Object(n.useState)(),l=Object(s.a)(a,2),c=l[0],d=l[1],u=Object(n.useState)(),m=Object(s.a)(u,2),y=m[0],f=m[1],g=Object(n.useState)(),A=Object(s.a)(g,2),j=A[0],O=A[1],P=Object(n.useState)(),I=Object(s.a)(P,2),C=I[0],S=I[1],D=Object(n.useState)(),L=Object(s.a)(D,2),R=L[0],F=L[1],M=Object(n.useState)(),T=Object(s.a)(M,2),W=T[0],w=T[1],N="YYYY-MM-DDTHH:MMZ",B=function(){o(),d(),O(),S(),F()},E=function(e){for(var t=e.courseAdvisors.slice(),r=0;r<e.leads.length;r++){var n=e.leads[r],o=t[n.allocatedCa],a=n.courseAdvisors[o.id].assessedPropensity;o.cumulativePropensity=o.cumulativePropensity+a,o.cumulativeInherent=o.cumulativeInherent+n.inherent}for(var l={totalLeads:0,cumulativePropensity:0,cumulativeInherent:0,averagePropensity:0,averageVarianceToInherent:0,predictedConversions:0},s=0;s<t.length;s++){var c=t[s];c.averagePropensity=c.totalAllotment?c.cumulativePropensity/c.totalAllotment:0,c.varianceToInherent=c.cumulativeInherent?c.cumulativePropensity/c.cumulativeInherent-1:0,c.predictedConversions=c.totalAllotment*c.averagePropensity,l.totalLeads+=c.totalAllotment,l.cumulativePropensity+=c.cumulativePropensity,l.cumulativeInherent+=c.cumulativeInherent,l.predictedConversions+=c.predictedConversions}l.averagePropensity=l.cumulativePropensity/l.totalLeads,l.averageVarianceToInherent=l.cumulativePropensity/l.cumulativeInherent-1;var d=Object(i.a)({},e);return d.courseAdvisors=t,d.aggregatedResults=l,d=Y(d)},Y=function(e){var t=r.slice().map((function(e){var t=Object(i.a)({},e);return t.created=t.created.format(N),t.allocatedCa=c[t.allocatedCa].caName,delete t.courseAdvisors,t})),n=Object(i.a)({},e);n.leadExportData=t;var o=c.slice().map((function(e){return{name:e.caName,id:e.id,portfolio:e.portfolio,location:e.location,totalAllotment:e.totalAllotment,finalAllotment:e.currentAllotment,averagePropensity:e.averagePropensity,varianceToInherent:e.varianceToInherent,predictedConversions:e.predictedConversions,unmodelledPropensityUsed:e.overallPropensity?e.overallPropensity:"-"}}));return o.push({name:"Total",totalAllotment:e.aggregatedResults.totalLeads,averagePropensity:e.aggregatedResults.averagePropensity,varianceToInherent:e.aggregatedResults.averageVarianceToInherent,predictedConversions:e.aggregatedResults.predictedConversions}),n.resultSummaryExportData=o,n},U=function(e){var t="invalid-nodata";return j&&y&&(t=Object.keys(h)[y.id]+"-"+e+"-"+x()().format("YYYYMMDD-HHMMss")),t};return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("h3",{children:"CA File"}),Object(v.jsx)(b,{onFileLoad:function(e){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r].data,o={id:n.id,caName:n.name,portfolio:n.portfolio,location:n.location,decayModifier:n.decayModifier,allotmentLimit:n.allotmentLimit?n.allotmentLimit:0,overallPropensity:n.overallPropensity?n.overallPropensity:0,totalAllotment:0,currentAllotment:0,cumulativePropensity:0,cumulativeInherent:0,averagePropensity:0,varianceToInherent:0,predictedConversions:0};t[r]=o}d(t)}(e)},onFileRemove:function(){return B()}}),Object(v.jsx)("h3",{children:"Lead File"}),Object(v.jsx)(b,{onFileLoad:function(e){return function(e){for(var t=[],r=function(r){for(var n=e[r].data,o={leadId:n.leadId,salesforceId:n.Id,created:x()(n.created,N),cluster:n.cluster,inherent:n.inherent,portfolio:n.portfolio,courseAdvisors:[]},a=0,l=function(t){if(c.some((function(n){return n.caName===e[r].meta.fields[t]}))){var l={id:a,caName:e[r].meta.fields[t],propensity:c[a].overallPropensity?c[a].overallPropensity:n[e[r].meta.fields[t]],assessedPropensity:n[e[r].meta.fields[t]]};o.courseAdvisors.push(l),a++}},i=0;i<e[r].meta.fields.length;i++)l(i);t[r]=o},n=0;n<e.length;n++)r(n);o(t)}(e)},onFileRemove:function(){return B()},disabled:!(c&&c.length>0)}),Object(v.jsx)(H,{selectedMode:y,onModeChange:function(e){return function(e){S(),f(h[e])}(e)},onParameterChange:function(e,t){return function(e,t){var r=C?C.slice():[];e.target.value?r[t]=e.target.value:r.splice(t),S(r)}(e,t)}}),Object(v.jsx)("button",{onClick:function(){return function(){var e=E(y.allocationFunction(r,c,C));o(e.leads),d(e.courseAdvisors),O(e.aggregatedResults),F(e.leadExportData),w(e.resultSummaryExportData)}()},disabled:!r||!y||y.parameters&&(!C||C.length<Object.keys(y.parameters).length),children:"Run Simulation"}),Object(v.jsx)(p.a,{data:R,type:"button",filename:U("LeadAllocation"),bom:!1,children:"Export Lead Allocations"}),Object(v.jsx)(p.a,{data:W,type:"button",filename:U("ResultSummary"),bom:!1,children:"Export Result Summary"}),Object(v.jsx)(k,{courseAdvisors:c,aggregatedResults:j})]})})},M=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,56)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,l=t.getTTFB;r(e),n(e),o(e),a(e),l(e)}))};l.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(F,{})}),document.getElementById("root")),M()}},[[55,1,2]]]);
//# sourceMappingURL=main.cd1359ce.chunk.js.map